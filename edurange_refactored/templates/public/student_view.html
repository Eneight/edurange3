
{% extends "layout.html" %}
{% block content %}
<main class="student">
<nav class='navigation'>
  <ul>
    <li><a href=index.html>Topic A</a></li>
    <li><a href=index.html>Topic B</a></li>
    <li><a href=index.html>Topic C</a></li>
    <li><a href=index.html>Topic D</a></li>
  </ul>
</nav>
<div id="student_view_question"></div>
</div>
<div class='chatbox'>
  <p>Insert Chatbox Item Here</p>
</div>
</main>

{% endblock %}

{% block  js %}
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script>
$(document).ready(function(){
//connect to the socket server.
  console.log("Starting")
var socket = io.connect('http://' + document.domain + ':' + location.port + '/socket_test');
  console.log("Connected")
var numbers_received = [];

//receive details from server
socket.on('database_changed', function(msg) {
  console.log("Here1")
console.log("Received number" + msg.number);
//maintain a list of ten numbers
if (numbers_received.length >= 10){
numbers_received.shift()
}
numbers_received.push(msg.number);
numbers_string = '';
for (var i = 0; i < numbers_received.length; i++){
numbers_string = numbers_string + '<p>' + numbers_received[i].toString() + '</p>';
}
$('#log').html(numbers_string);
});

});
</script>
<!-- development React scripts !!Replace with production scripts (below) for release!! -->
<script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

<!-- production React scripts -->
<!-- <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script> -->

<script src="/static/build/student_view_question.bundle.js"></script>
{% endblock %}