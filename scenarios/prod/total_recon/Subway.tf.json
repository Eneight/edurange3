{
  "resource": [
    {
      "docker_container": [
        {
          "SNAME_Subway": [
            {
              "capabilities": [
                {
                  "add": [
                    "NET_ADMIN",
                    "SYS_PTRACE"
                  ]
                }
              ],
              "command": [
                "/usr/sbin/sshd",
                "-D"
              ],
              "connection": [
                {
                  "host": "${self.ports[0].ip}",
                  "password": "root",
                  "port": "${self.ports[0].external}",
                  "type": "ssh",
                  "user": "root"
                }
              ],
              "hostname": "Subway",
              "image": "sanivo/edurange-ubuntu-sshd:16.04",
              "name": "SNAME_Subway",
              "networks_advanced": [
                {
                  "ipv4_address": "OCTET.0.1.2",
                  "name": "SNAME_NAT"
                },
                {
                  "ipv4_address": "OCTET.0.0.115",
                  "name": "SNAME_PLAYER"
                }
              ],
              "ports": [
                {
                  "internal": 22
                }
              ],
              "provisioner": [
                {
                  "remote-exec": [
                    {
                      "inline": [
                        "USERS",
                        "EXECS",
                      ]
                    }
                  ]
                }
              ],
              "restart": "always"
            }
          ]
        }
      ]
    }],
  "locals": [
    {
      "SNAME_Subway_extern": "${tostring(docker_container.SNAME_Subway.ports[0].external)}"
    }
  ],
  "output": [
    {
      "SNAME_Subway": [
        {
          "value": [
            {
              "ip_address_public": "${join(\":\", [\"localhost\", local.SNAME_Subway_extern])}",
              "name": "SNAME_Subway"
            }
          ]
        }
      ]
    }
  ]

}
