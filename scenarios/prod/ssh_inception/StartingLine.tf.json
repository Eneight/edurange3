{
	"resource": [
	{
            "docker_container": [
                {
                    "SNAME_StartingLine": [
                        {
                            "capabilities": [
                                {
                                    "add": [
                                        "NET_ADMIN"
                                    ]
                                }
                            ],
                            "command": [
                                "/usr/sbin/sshd",
                                "-D"
                            ],
                            "connection": [
                                {
                                    "host": "${self.ports[0].ip}",
                                    "password": "sup3r_s3cr3t_r00t_p4ssw0rd",
                                    "port": "${self.ports[0].external}",
                                    "type": "ssh",
                                    "user": "root"
                                }
                            ],
                            "hostname": "StartingLine",
                            "image": "sanivo/edurange_alpine:latest",
                            "name": "SNAME_StartingLine",
                            "networks_advanced": [
                                {
                                    "ipv4_address": "OCTET.0.1.2",
                                    "name": "SNAME_NAT"
                                },
                                {
                                    "ipv4_address": "OCTET.0.0.2",
                                    "name": "SNAME_PLAYER"
                                }
                            ],
                            "ports": [
                                {
                                    "internal": 22
                                }
                            ],
                            "provisioner": [
                                {
                                    "remote-exec": [
                                        {
                                            "inline": [
                                                "echo -e 'passwordfoo123\npasswordfoo123' | adduser student",
                                                "USERS",
                                                "EXECS"
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "restart": "always"
                        }
                    ]
                }
            ]
        }],
    "locals": [
        {
            "SNAME_StartingLine_extern": "${tostring(docker_container.SNAME_StartingLine.ports[0].external)}"
        }
    ],
    "output": [
        {
            "SNAME_StartingLine": [
                {
                    "value": [
                        {
                            "ip_address_public": "${join(\":\", [\"localhost\", local.SNAME_StartingLine_extern])}",
                            "name": "SNAME_StartingLine"
                        }
                    ]
                }
            ]
        }
    ]

}
